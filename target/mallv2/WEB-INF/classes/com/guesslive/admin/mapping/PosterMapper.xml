<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.guesslive.admin.dao.PosterMapper">
  
   <select id="searchList" resultType="Poster">
      select * from t_poster 
      <where>
         <if test="poster.location >0 ">
	        and location=#{poster.location}
	     </if>  
	   </where>
        limit #{start},#{rows}
   </select>
	
	<select id="searchTotal" resultType="java.lang.Integer">
	   select count(*) from t_poster 
	</select>
	
	<update id="updateDetial" parameterType="Poster">
	   update t_poster set sort=#{sort},actionurl=#{actionurl} where id=#{id}
	</update>
	
	<delete id="deleteById" parameterType="java.lang.Integer">
	   delete from t_poster where id=#{id}
	</delete>
	
	<delete id="deleteByLocation" parameterType="java.lang.Integer">
	    delete from t_poster where location=#{location}
	</delete>
	
	  <insert id="insertSelective" parameterType="Poster" useGeneratedKeys="true" keyProperty="id">
	    insert into t_poster(sort,imgurl,location,actionurl) values(#{sort},#{imgurl},#{location},#{actionurl})
     </insert>
  
     <insert id="batchinsertSelective" parameterType="Poster">
     	  	<foreach collection="list" item="item" separator=";">
   			  insert into t_poster(sort,imgurl,location,actionurl)
   			  values(#{item.sort},#{item.imgurl},#{item.location},#{item.actionurl})
   			</foreach> 
     </insert>
     
     <select id="selectAppImg" resultType="IndexImg">
     	select * from t_index_img
     </select>
     
     <update id="updateImg" parameterType="IndexImg">
     		update t_index_img set imgurl = #{imgurl} where id= #{id}
     </update>
	
</mapper>